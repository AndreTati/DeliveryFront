<div  class="modal" (focus)=traerDatos() id="modalUsuario" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="titulo">Usuario</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form [formGroup]="formulario">
            <div class="form-group" hidden>
                <div class="input-group-prepend">
                    <label class="input-group-text" for="inputGroupSelect01" style="width: 75px; height: 35px;">ID</label>
                    <input type="email" class="form-control" formControlName="id" placeholder="" disabled>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text">
                        <svg width="20" height="20" viewBox="0 0 16 16" class="bi bi-file-person" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M4 1h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H4z"/>
                            <path d="M13.784 14c-.497-1.27-1.988-3-5.784-3s-5.287 1.73-5.784 3h11.568z"/>
                            <path fill-rule="evenodd" d="M8 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                          </svg>
                      </span>
                    </div>
                    <input type="text" class="form-control" formControlName="nombre" placeholder="Nombre*">
                   
                    <input type="text" class="form-control" formControlName="apellido" placeholder="Apellido*">
                    
                  </div>
                  <div *ngIf="formulario.controls['nombre'].invalid && formulario.controls['nombre'].dirty" class="alert alert-dismissible alert-primary">
                    <span *ngIf="formulario.controls['nombre'].errors.required">Campo requerido</span>
                  </div>
                  <div *ngIf="formulario.controls['apellido'].invalid && formulario.controls['apellido'].dirty"  class="alert alert-dismissible alert-primary">
                    <span *ngIf="formulario.controls['apellido'].errors.required">Campo requerido</span>
                  </div>
            </div>
            <div class="form-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">
                        <svg width="20" height="20" viewBox="0 0 16 16" class="bi bi-envelope-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z"/>
                          </svg>
                    </span>
                    <input type="email" class="form-control" formControlName="email" placeholder="Correo Electrónico*">
                    
                </div>
                <div *ngIf="formulario.controls['email'].invalid && formulario.controls['email'].dirty"  class="alert alert-dismissible alert-primary">
                  <span *ngIf="formulario.controls['email'].errors.required">Campo requerido</span>
                  <span *ngIf="formulario.controls['email'].errors.email">Correo no válido</span>
                </div>
              
            </div>
            <div class="form-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">
                        <svg width="20" height="20" viewBox="0 0 16 16" class="bi bi-lock-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M2.5 9a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9z"/>
                            <path fill-rule="evenodd" d="M4.5 4a3.5 3.5 0 1 1 7 0v3h-1V4a2.5 2.5 0 0 0-5 0v3h-1V4z"/>
                          </svg>
                    </span>
                    <input type="password" class="form-control" formControlName="pass" placeholder="Contraseña*">
                    
                </div>
                <div *ngIf="formulario.controls['pass'].invalid && formulario.controls['pass'].dirty"  class="alert alert-dismissible alert-primary">
                  <span *ngIf="formulario.controls['pass'].errors.required">Campo requerido</span>
                  <span *ngIf="formulario.controls['pass'].errors.minLength">La contraseña debe tener al menos 8 caracteres</span>
                  </div>
            </div>
            <div class="form-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">
                        <svg width="20" height="20" viewBox="0 0 16 16" class="bi bi-phone-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M3 2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V2zm6 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                          </svg>
                    </span>
                    <input type="number" class="form-control" formControlName="telefono" placeholder="Teléfono*">
                </div>
                <div *ngIf="formulario.controls['telefono'].invalid && formulario.controls['telefono'].dirty"  class="alert alert-dismissible alert-primary">
                  <span *ngIf="formulario.controls['telefono'].errors.required">Campo requerido</span>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">
                        <svg width="20" height="20" viewBox="0 0 16 16" class="bi bi-person-badge-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm4.5 0a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zM8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm5 2.755C12.146 12.825 10.623 12 8 12s-4.146.826-5 1.755V14a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-.245z"/>
                          </svg>
                    </span>
                    <input type="number" class="form-control" formControlName="dni" placeholder="DNI*">
                </div>
                <div *ngIf="formulario.controls['dni'].invalid && formulario.controls['dni'].dirty"  class="alert alert-dismissible alert-primary">
                  <span *ngIf="formulario.controls['dni'].errors.required">Campo requerido</span>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">
                        <svg width="20" height="20" viewBox="0 0 16 16" class="bi bi-calendar-month-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zM0 5h16v9a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5zm2.56 7.332l.54-1.602h1.984l.54 1.602h.718L4.444 7h-.696L1.85 12.332h.71zm1.544-4.527L4.9 10.18H3.284l.8-2.375h.02zm5.746.422h-.676v2.543c0 .652-.414 1.023-1.004 1.023-.539 0-.98-.246-.98-1.012V8.227h-.676v2.746c0 .941.606 1.425 1.453 1.425.656 0 1.043-.28 1.188-.605h.027v.539h.668V8.227zm1.273 4.41c.075.332.422.636.985.636.648 0 1.07-.378 1.07-1.023v-.605h-.02c-.163.355-.613.648-1.171.648-.957 0-1.64-.672-1.64-1.902v-.34c0-1.207.675-1.887 1.64-1.887.558 0 1.004.293 1.195.64h.02v-.577h.648v4.03c0 1.052-.816 1.579-1.746 1.579-1.043 0-1.574-.516-1.668-1.2h.687zm2.055-2.535c0-.832-.414-1.36-1.062-1.36-.692 0-1.098.492-1.098 1.36v.253c0 .852.406 1.364 1.098 1.364.671 0 1.062-.516 1.062-1.364v-.253z"/>
                          </svg>
                    </span>
                    <input type="date" class="form-control" formControlName="fechaNac" placeholder="Fecha de Nacimiento*">
                </div>
                <div *ngIf="formulario.controls['fechaNac'].invalid && formulario.controls['fechaNac'].dirty"  class="alert alert-dismissible alert-primary">
                  <span *ngIf="formulario.controls['fechaNac'].errors.required">Campo requerido</span>
                </div> 
            </div>
            <div class="form-group">
                <div class="input-group-prepend">
                    <label class="input-group-text" for="inputGroupSelect01" style="width: 100px; height: 35px;">Rol*</label>
                    <div class="form-group">
                        <select class="custom-select" formControlName="rol">
                          <option [ngValue]=null disabled [selected]="usuario?.rol===null">Seleccione un rol</option>
                          <option *ngFor="let rol of roles" [ngValue]="rol" [selected]="rol.nombre===usuario?.rol?.nombre" >{{rol?.nombre}}</option>
                        </select>
                      </div>
                </div>
                <div *ngIf="formulario.controls['rol'].invalid && formulario.controls['rol'].dirty"  class="alert alert-dismissible alert-primary">
                  <span *ngIf="formulario.controls['rol'].errors.required">Campo requerido</span>
                </div> 
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success"  data-dismiss="modal" [disabled]="!formulario.valid" (click)=save()>Guardar</button>
          <button type="button" class="btn btn-primary"  data-dismiss="modal" >Cancelar</button><br><br>
        </div>
      </div>
    </div>
  </div>

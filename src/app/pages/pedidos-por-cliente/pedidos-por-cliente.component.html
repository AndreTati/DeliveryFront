<div class="container-fluid mt-5" style="width: 1200px;">
    <h2>PEDIDOS POR CLIENTE</h2>
    <hr class="border-primary">
    <div class="row">
        <div class="col">
            <select class="form-control" name="usuarios" [(ngModel)]="userSeleccionado" (change)="filtrar($event.target.value, 'usuario')" >
                <option *ngFor="let usuario of usuarios" value={{usuario.id}}  >{{usuario.nombre}} {{usuario.apellido}}</option>
            </select>
        </div>
        <div class="col">
            <input type="date" class="form-control" [(ngModel)]="fechaFiltro" name="fecha" (input)="filtrar($event.target.value, 'fecha')">
        </div>
    </div>
    <div class="row">
        <div class="col">
             <h5 class="card-title">Pedidos por usuario y periodo</h5>
          <h6>Total de pedidos del usuario  {{totalPedidos}}</h6>
          <div style="background: white">
            <p-chart *ngIf="cargo" type="doughnut" [data]="datosEstadisticos"></p-chart>
          </div>
        </div>
    </div>
    <div class="table-responsive-md">
        <table class="table mt-3">
          <thead class="thead table-primary">
            <tr>
              <th scope="col" style="width: 200px; text-align: center;">Nro Pedido</th>
              <th scope="col" style="width: 200px; text-align: center;">Fecha</th>
              <th scope="col" style="width: 200px; text-align: center;">Total</th>
              <th scope="col" style="width: 200px; text-align: center;">Tipo Env√≠o</th>
              <th scope="col" style="width: 200px; text-align: center;">Factura</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let pedido of pedidosFiltrados" class="table-active">
              
              <td scope="row" style="text-align: center;">{{pedido?.id}}</td>
              <td style="text-align: center;">{{pedido?.fecha}}</td>
              <td style="text-align: center;">{{pedido?.total}}</td>
              <td style="text-align: center;">{{pedido?.tipoEnvio}}</td>
              <td style="text-align: center;">
                <button class="btn btn-success" data-toggle="modal" data-target="#modalFactura" (click)="pedidoId=pedido?.id">Ver Factura</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
</div>
<app-modal-factura [pedidoId]="pedidoId"></app-modal-factura>
